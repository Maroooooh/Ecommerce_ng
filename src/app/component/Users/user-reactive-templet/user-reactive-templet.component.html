<div class="card">
  <div class="card-header">
    User Registration
  </div>
  <div class="card-body">
    <!-- Reactive Form -->
    <form (ngSubmit)="addNewUser()" [formGroup]="userForm">
      <!-- Full Name -->
      <div class="form-group row mb-2">
        <label for="fullName" class="col-md-2 col-form-label">Full Name</label>
        <div class="col-md-8">
          <input type="text" class="form-control" id="fullName" placeholder="Full Name (required)" name="fullName"
            formControlName="fullName"
            [ngClass]="{'is-invalid': userForm.get('fullName')?.touched && userForm.get('fullName')?.invalid}">
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('fullName')?.hasError('required')">Please Enter Full Name</span>
            <span *ngIf="userForm.get('fullName')?.hasError('minlength')">Full Name Must Be at least 5 characters</span>
          </span>
        </div>
      </div>

      <!-- Email -->
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="email">Email</label>
        <div class="col-md-8">
          <input class="form-control" id="email" type="email" placeholder="Email (required, valid email format)"
            formControlName="email"
            [ngClass]="{'is-invalid': userForm.get('email')?.touched && userForm.get('email')?.invalid}" />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('email')?.hasError('required')">Please Enter Email</span>
            <span *ngIf="userForm.get('email')?.hasError('email')">Invalid Email Format</span>
          </span>
        </div>
      </div>

      <div class="form-group row mb-2">
        <div formArrayName="mobile" class="mt-3 ">
          <div *ngFor="let phone of mobile.controls ; let i=index">
            <mat-form-field appearance="fill" [formGroupName]="i">
              <label>Mobile Number:</label>
              <input name="mobile" required pattern="[0-9]{11}" formControlName="mobile" placeholder="mobile*"
                class="mx-1 col-6 mt-1" [ngClass]="{'has-error':mobile.invalid&&mobile.touched}" />
              <button (click)="remove(i)" class="btn btn-danger col-2">remove</button>
            </mat-form-field>
          </div>
          <span class="invalid-feedback">
            <span *ngIf="mobile?.errors?.['required']">Mobile Number is required</span>
            <span *ngIf="mobile?.errors?.['pattern']">Mobile Number must be at least 11 characters</span>
          </span>
        </div>
        <button (click)="add()" class="btn btn-dark col-4">add phone</button>
      </div>




      <!-- Address -->
      <!-- <div class="col-11 mt-2">
        <div class="row">
        <div class="col-4">
        <div class="form-outline">
          <label class="form-label" for="form3Example2">City:</label>
          <input type="text" id="form3Example2" name="city" required class="form-control" formControlName="city"
            [ngClass]="{'is-invalid':(city?.touched ||city ?.dirty)&&city?.invalid}" />
          <span class="invalid-feedback">
            <span *ngIf="city?.errors?.['required']">City is required</span>
          </span>
        </div>
      </div>
      <div class="col-4">
        <div class="form-outline">
          <label class="form-label" for="form3Example2">Postal Code:</label>
          <input type="text" id="form3Example2" name="postalCode" required class="form-control"
            formControlName="postalCode"
            [ngClass]="{'is-invalid':(postalCode?.touched ||postalCode ?.dirty)&&postalCode?.invalid}" />
          <span class="invalid-feedback">
            <span *ngIf="postalCode?.errors?.['required']">Postal Codeis required</span>
          </span>
        </div>
      </div>
      <div class="col-4">
        <div class="form-outline">
          <label class="form-label" for="form3Example2">street:</label>
          <input type="text" id="form3Example2" name="street" required class="form-control" formControlName="street"
            [ngClass]="{'is-invalid':(street?.touched ||street ?.dirty)&&street?.invalid}" />
          <span class="invalid-feedback">
            <span *ngIf="street?.errors?.['required']">street is required</span>
          </span>
        </div>
      </div>
      </div>
      </div>
       -->


        <!-- Password -->
        <div class="form-group row mb-2">
          <label class="col-md-2 col-form-label" for="password">Password</label>
          <div class="col-md-8">
            <input class="form-control" type="password" placeholder="Password (required, min length 6)" name="password"
              formControlName="password"  [ngClass]="{'is-invalid': userForm.get('password')?.touched && userForm.get('password')?.invalid}" />
            <span class="invalid-feedback">
              <span *ngIf="userForm.get('password')?.hasError('required')">Please Enter Password</span>
              <span *ngIf="userForm.get('password')?.hasError('minlength')">Password Must Be at least 6
                characters</span>
            </span>
          </div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label" for="confirmPassword">Confirm Password</label>
        <div class="col-md-8">
          <input class="form-control" type="password" placeholder="Confirm Password (required)" name="confirmPassword"
            formControlName="confirmPassword" [ngClass]="{'is-invalid': userForm.get('confirmPassword')?.touched && userForm.get('confirmPassword')?.invalid}" />
          <span class="invalid-feedback">
            <span *ngIf="userForm.get('confirmPassword')?.hasError('required')">Please Confirm Password</span>
          </span>
        </div>
      </div>
        <!-- [disabled]="userForm.invalid" -->
        <br>
        <button type="submit" class="btn btn-success" >Submit (Reactive)</button>
    </form>
  </div>
</div>
